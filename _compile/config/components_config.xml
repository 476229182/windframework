<?xml version="1.0" encoding="UTF-8"?>

<!-- <component name='' path='' factory-method='' init-method='' scope="application/singleton/prototype/" 
	proxy=''> -->
<!-- <property property-name='' ref/value/path=''> -->
<!-- <constructor-arg ref/value=''> -->
<!-- <config resource=''> -->
<!-- </component> -->

<components>
	<component name='windWebApp' path='WIND:core.web.WindWebApplication'
		scope='singleton'>
		<properties>
			<property name='dispatcher' ref='dispatcher' />
			<property name='handlerAdapter' ref='router' />
		</properties>
	</component>
	<component name='windLogger' path='COM:log.WindLogger' scope='singleton'>
		<constructor-arg value='data.log' />
		<constructor-arg value='0' />
	</component>
	<component name='dispatcher' path='WIND:core.web.WindDispatcher'
		scope='application'>
		<properties>
			<property name='urlHelper' ref='urlHelper' />
		</properties>
	</component>
	<component name='forward' path='WIND:core.web.WindForward'
		scope='prototype'>
	</component>
	<component name='router' path='COM:router.WindRouter' scope="application">
	</component>
	<component name='urlHelper' path='WIND:core.web.WindUrlHelper'
		scope='application'>
	</component>
	<component name='windView' path='COM:viewer.WindView' scope='prototype'>
		<config>
			<template-dir>template</template-dir>
			<template-ext>htm</template-ext>
			<is-compile>0</is-compile>
			<compile-dir>compile.template</compile-dir>
			<is-cache>0</is-cache>
		</config>
		<properties>
			<property name='viewResolver' ref='viewResolver' />
			<property name='viewCache' ref='viewCache' />
		</properties>
	</component>
	<component name='viewResolver' path='COM:viewer.WindViewerResolver'
		scope='prototype'>
	</component>
	<component name='template' path='COM:viewer.compiler.WindViewTemplate'
		scope='prototype'>
	</component>
	<component name='db' path='COM:db.WindConnection' scope='singleton'>
		<config resource='db_config.xml' />
	</component>
	<component name='errorMessage' path='WIND:core.web.WindErrorMessage'
		scope='prototype'>
	</component>
	<component name='configParser' path='COM:parser.WindConfigParser'
		scope='singleton'>
	</component>
	<!--windCache组件：框架默认缓存机制；当wind_config中‘iscache’属性标签值为‘0’时该功能关闭。 默认windCache组件定义如下定义 -->
	<component name='windCache' path="COM:cache.strategy.WindFileCache">
		<config>
			<dir>data.config</dir>
			<suffix>php</suffix>
			<expires>0</expires>
		</config>
	</component>
	
	<component name='viewCache' path='COM:cache.strategy.WindFileCache'>
		<config>
			<dir>data.view</dir>
			<suffix>php</suffix>
			<expires>10</expires>
		</config>
	</component>
</components>
